<div class="page-header">
    <h3>Registrarse</h3>
</div>



<div class="container row">
    <div class="jumbotron col-sm-12 pull-center">
        <form autocomplete="off" action="/register" id="frmregistro" method="post" enctype="multipart/form-data"
            onsubmit="return verficaPassword();">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Perfil: (utilizado para probar vista cliente y vista admin) </label>
                    <select class="form-select form-control" name="perfil" id="perfil">
                        <option value="cliente">Cliente</option>
                        <option value="admin">Administrador</option>
                    </select>

                </div>

                <div class="form-group">
                    <label>Usuario:</label>
                    <input class="form-control" required type="text" name="username" />
                </div>
                <div class="form-group">
                    <label>Nombre y apellido:</label>
                    <input class="form-control" required type="text" name="nombre" />
                </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input class="form-control" required type="email" name="email" />
                </div>


                <div class="form-group">
                    <label>Telefono:</label><br>
                    <input class="form-control" required type="tel" name="telefono" id="telefono" />
                </div>

            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Dirección:</label>
                    <input class="form-control" required type="text" name="direccion" />
                </div>

                <div class="form-group">
                    <label>Edad:</label>
                    <input class="form-control" required type="number" name="edad" />
                </div>

                <div class="form-group">
                    <label>Contraseña:</label>
                    <input class="form-control" required type="password" name="password" id="password" />
                </div>
                <div class="form-group">
                    <label>Repita contraseña:</label>
                    <input class="form-control" required type="password" name="passwordRepetido"
                        id="passwordRepetido" />
                    <div id="txtclave"></div>
                </div>
                <div class="form-group">
                    <label>Foto/Avatar:</label>
                    <input class="form-control" required type="file" name="avatar" />
                </div><br>
                <div class="form-group">
                    <input class="btn btn-primary" id="btnenviar" type="submit" value="Registrarse" /> | ¿Ya tiene
                    cuenta? <a href="/login">Ingresar</a>
                </div>
            </div>
        </form>
        <div style="color:red"> {{message}}</div>

    </div>
</div>
<script>
    const phoneInputField = document.querySelector("#telefono");
    const phoneInput = window.intlTelInput(phoneInputField, {
        initialCountry: "ar",
        utilsScript:
            "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
    });





    let pas1 = document.getElementById("password");
    let pas2 = document.getElementById("passwordRepetido");
    let txtclave = document.getElementById("txtclave");
    let btnenviar = document.getElementById("btnenviar");
    btnenviar.disabled = true;
    pas2.addEventListener("change", function (e) {
        e.preventDefault(); //
        if (pas1.value != pas2.value) {
            txtclave.innerHTML = "<font color=red>Las claves deben ser iguales</font>";
            btnenviar.disabled = true;
            notificaciones("Las claves deben ser iguales", "red")
        } else {
            txtclave.innerHTML = "<font color=green>Correcto</font>";
            btnenviar.disabled = false;
        }

    })

</script>